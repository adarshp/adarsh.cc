% =============================================================================
% Metadata
% =============================================================================

\def\firstname{Adarsh}
\def\lastname{Pyarelal}
\def\myemail{adarsh@arizona.edu}
\def\myweb{adarsh.cc}
\def\department{School of Information}
\def\university{University of Arizona}
\def\city{Tucson}
\def\country{USA}
\def\state{Arizona}
\def\zipcode{85719}
\date{} % not used (revision control instead)

\newcommand{\name}{\firstname{} \lastname{}}

% =============================================================================

\usepackage[tracking]{microtype}
\usepackage{amsmath}

% =============================================================================
% Bibliography
% =============================================================================

\usepackage[
  eprint=false,
  url=false,
  doi=false,
  isbn=false,
  maxnames=100,
  giveninits=true,
  hyperref,
  bibstyle=publist,
  sorting=ddt,
  plauthorhandling=highlight,
  plnumbered=false,
  boldyear=false,
  marginyear=false,
  nameorder=given-family,
  mergedate=true
]{biblatex}
\plauthorname[\firstname][]{\lastname}


\newbibmacro{string+doiurlisbn}[1]{%
  \iffieldundef{doi}{%
    \iffieldundef{url}{%
      \iffieldundef{isbn}{%
        \iffieldundef{issn}{%
          #1%
        }{%
          \href{http://books.google.com/books?vid=ISSN\thefield{issn}}{#1}%
        }%
      }{%
        \href{http://books.google.com/books?vid=ISBN\thefield{isbn}}{#1}%
      }%
    }{%
      \href{\thefield{url}}{#1}%
    }%
  }{%
    \href{http://dx.doi.org/\thefield{doi}}{#1}%
  }%
}


\DeclareFieldFormat{title}{\usebibmacro{string+doiurlisbn}{\mkbibemph{#1}}}
\DeclareFieldFormat[article,online]{journaltitle}{#1}
\DeclareFieldFormat[inproceedings]{booktitle}{#1}
\DeclareFieldFormat[article,incollection,inproceedings]{title}%
    {\usebibmacro{string+doiurlisbn}{\mkbibemph{#1}}}
\addbibresource{bibliography.bib}

% =============================================================================

\usepackage{fontawesome}
\usepackage{fontspec}
\setmainfont[%
  Ligatures = {Common, TeX},%Numbers = {OldStyle, Proportional},
  SmallCapsFeatures={Letters=SmallCaps,LetterSpace=2},
]{Arno Pro}
\setsansfont[%
    Numbers = {OldStyle, Proportional},
    BoldFont=* Semibold,
]{Myriad Pro}
\setmonofont{Menlo}[Scale=MatchLowercase]

% =============================================================================
% Colors
% =============================================================================

\usepackage[usenames, dvipsnames]{xcolor}
%\definecolor{webbrown}{rgb}{.6,0,0}
%\definecolor{Maroon}{cmyk}{0, 0.87, 0.68, 0.32}
%%\definecolor{RoyalBlue}{cmyk}{1, 0.50, 0, 0}
%\definecolor{Black}{cmyk}{0, 0, 0, 0}
%\definecolor{shadecolor}{gray}{0.9}

% =============================================================================
% Set up hyperlinks
% =============================================================================

\PassOptionsToPackage{pdftex,hyperfootnotes=false,pdfpagelabels=true}{hyperref}
    \usepackage{hyperref}  % backref linktocpage pagebackref
\pdfcompresslevel=9
\pdfadjustspacing=1

\hypersetup{%
    colorlinks=true, linktocpage=true, pdfstartpage=3, pdfstartview=FitV,%
    breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,%
    plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,%
    hypertexnames=true, pdfhighlight=/O,%nesting=true,%frenchlinks,%
    urlcolor=MidnightBlue, linkcolor=MidnightBlue, citecolor=MidnightBlue,%
    pdftitle={Curriculum Vitae - \name{}},%
    pdfauthor={\name{}},%
    pdfsubject={},%
    pdfkeywords={},%
    pdfcreator={luaLaTeX},%
    pdfproducer={LaTeX}%
}


% =============================================================================
% Memoir package - layout and styling
% =============================================================================

% Here we set typeblock widths for the main body and the footnotes
\setlxvchars[\normalfont] % about 66 characters per column
\setxlvchars[\normalfont\footnotesize] % about 45 characters per column

%\renewcommand\midrule{\arrayrulecolor{gray}\midrule}
% Original
% lrmargins + year col should add up to 4.265

% Uncomment the two lines below to get about 66 characters in the typeblock for
% 12 point Arno Pro font.
%\setlrmarginsandblock{0.5in}{1in}{}
%\setulmarginsandblock{1.2in}{1.2in}{*}
